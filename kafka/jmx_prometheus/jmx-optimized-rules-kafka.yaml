rules:
  #
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # ğŸ“Š Topic-Level Metrics (essential only)
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  #
  - bean: kafka.server:type=BrokerTopicMetrics,name=BytesInPerSec,topic=*
    mapping:
      Count:
        metric: kafka_topic_bytes_in_total
        type: counter
        labels:
          topic: topic
        desc: Bytes received per topic per second

  - bean: kafka.server:type=BrokerTopicMetrics,name=BytesInPerSec,topic=*
    mapping:
      Count:
        metric: kafka_topic2_bytes_in_total
        type: counter
        labels:
          topic: topic
        desc: Bytes received per topic per second

  - bean: kafka.server:type=BrokerTopicMetrics,name=BytesOutPerSec,topic=*
    mapping:
      Count:
        metric: kafka_topic_bytes_out_total
        type: counter
        labels:
          topic: topic
        desc: Bytes sent per topic per second

  - bean: kafka.server:type=BrokerTopicMetrics,name=MessagesInPerSec,topic=*
    mapping:
      Count:
        metric: kafka_topic_messages_in_total
        type: counter
        labels:
          topic: topic
        desc: Messages produced per topic per second

  #
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # ğŸš€ Producer Metrics (keep only per client)
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  #
  - bean: kafka.producer:type=producer-metrics,client-id=*
    mapping:
      Count:
        metric: kafka_producer_bytes_total
        type: counter
        labels:
          client_id: client-id
        desc: Bytes produced by client

  #
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # ğŸ“¥ Consumer Metrics (essential only)
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  #
  - bean: kafka.consumer:type=consumer-fetch-manager-metrics,client-id=*
    mapping:
      Count:
        metric: kafka_consumer_fetch_bytes_total
        type: counter
        labels:
          client_id: client-id
        desc: Bytes fetched per client

  - bean: kafka.consumer:type=consumer-coordinator-metrics,client-id=*
    mapping:
      Mean:
        metric: kafka_consumer_commit_latency_seconds
        type: gauge
        labels:
          client_id: client-id
        desc: Consumer commit latency

  #
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # â±ï¸ Request Latency (per request type)
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  #
  - bean: kafka.network:type=RequestMetrics,name=TotalTimeMs,request=*
    mapping:
      Count:
        metric: kafka_request_latency_milliseconds_count
        type: counter
        labels:
          request: request
        desc: Total requests
      Mean:
        metric: kafka_request_latency_milliseconds_mean
        type: gauge
        labels:
          request: request
        desc: Average latency in ms
